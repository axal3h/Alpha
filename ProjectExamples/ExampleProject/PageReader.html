<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>
<body>
<!--
	Optional todos
	- Have the items dynamically loaded based on the random number generator. Therefore, everything on the page will be built dynamically.
	- Add additional elements such as radio buttons etc...
	- Load everything on the push of a button
-->
<h1>SWE Team List API Page</h1>
<p>This page is constructed using API values. If you select from the dropdown list of team members names, you will notice that the paragraph section changes to show the team name.</p>
<h4>Team Members Dropdown Information</h4>
    <select id="sel" onchange="loadPageInformation();">
        <option value="">-- Select --</option>
    </select>
<h4>Paragraph Information "Team Names"</h4>
    <p id="msg"></p>
<button onclick="loadPageInformation1()">Reload Page Information</button>
</body>
<script>
function loadDropDownInformation(){
	var i = 0;
	var url = "PageAPI.php?id=ateam";
	$.getJSON(url, function (data) {
			$.each(data.dropdownOptions, function (index, value) {
				$('#sel').append('<option value="' + value.value + '">' + value.label + '</option>');
				i = i+1;
			});
	});
}
function loadParagraphInformation(sel){
	var url = "PageAPI.php?id=paragraphInfo&sel="+sel;
	$.getJSON(url, function (data) {
		$('#msg').append(data.text);
	});
}
function loadPageInformation(){
	document.getElementById('msg').innerHTML = ""; // clear the paragraph information
	//document.getElementById('sel').options.length = 0;// clear the dropdown list information information
	// Call functions to load the page information
	//loadDropDownInformation();
	loadParagraphInformation(document.getElementById('sel').value);
	
	//document.getElementById('sel').options.length = 0;// clear the dropdown list information information
}
function loadPageInformation1(){
	document.getElementById('msg').innerHTML = ""; // clear the paragraph information
	document.getElementById('sel').options.length = 0;// clear the dropdown list information information

	// Call functions to load the page information
	loadDropDownInformation();
	loadParagraphInformation(1);
	loadParagraphInformation(0);

}

 $(document).ready(function () {
		loadPageInformation1(); // Call the primary function to load all of the page information
 });
</script>
</html>